<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>Utility Models in the Preference &amp; WTP Space</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>






<style type="text/css">
/* for pandoc --citeproc since 2.11 */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Utility Models in the Preference &amp; WTP
Space</h1>



<p>In many applications of discrete choice models, modelers are
interested in estimating consumer’s marginal “willingness-to-pay” (WTP)
for different attributes. WTP can be estimated in two ways:</p>
<ol style="list-style-type: decimal">
<li>Estimate a discrete choice model in the “preference space” where
parameters have units of utility and then compute the WTP by dividing
the parameters by the price parameter.</li>
<li>Estimate a discrete choice model in the “WTP space” where parameters
have units of WTP.</li>
</ol>
<p>While the two procedures generally produce the same estimates of WTP
for homogenous models, the same is not true for heterogeneous models
where model parameters are assumed to follow a specific distribution,
such as normal or log-normal <span class="citation">(Train and Weeks
2005)</span>. For example, in a preference space specification, a
normally distributed attribute parameter divided by a log-normally
distributed price parameter produces a strange WTP distribution with
large tails. In contrast, a WTP space specification allows the modeler
to directly assume WTP is normally distributed. The package was
developed to enable modelers to choose between these two utility spaces
when estimating multinomial logit models.</p>
<div id="the-random-utility-model-in-two-spaces" class="section level1">
<h1>The random utility model in two spaces</h1>
<p>The random utility model is a well-established framework in many
fields for estimating consumer preferences from observed consumer
choices <span class="citation">(Louviere, Hensher, and Swait 2000; Train
2009)</span>. Random utility models assume that consumers choose the
alternative <span class="math inline">\(j\)</span> a set of alternatives
that has the greatest utility <span class="math inline">\(u_{j}\)</span>. Utility is a random variable that
is modeled as <span class="math inline">\(u_{j} = v_{j} +
\varepsilon_{j}\)</span>, where <span class="math inline">\(v_{j}\)</span> is the “observed utility” (a
function of the observed attributes such that <span class="math inline">\(v_{j} = f(\mathrm{\mathbf{x}}_{j})\)</span>) and
<span class="math inline">\(\varepsilon_{j}\)</span> is a random
variable representing the portion of utility unobservable to the
modeler.</p>
<p>Adopting the same notation as in Helveston et al. <span class="citation">(2018)</span>, consider the following utility
model:</p>
<p><span class="math display">\[\begin{equation}
    u^*_{j} =
        \mathbf{β}^{*&#39;} \mathrm{\mathbf{x}}_{j} +
        \alpha^{*} p_{j} +
        \varepsilon^{*}_{j},
        \quad\quad
        \varepsilon^{*}_{j} \sim \textrm{Gumbel}\left(0,
\sigma^2\frac{\pi^2}{6}\right)
\label{eq:utility}
\end{equation}\]</span></p>
<p>where <span class="math inline">\(\mathbf{β}^{*}\)</span> is the
vector of coefficients for non-price attributes <span class="math inline">\(\mathrm{\mathbf{x}}_{j}\)</span>, <span class="math inline">\(\alpha^{*}\)</span> is the coefficient for price
<span class="math inline">\(p_{j}\)</span>, and the error term, <span class="math inline">\(\varepsilon^{*}_{j}\)</span>, is an IID random
variable with a Gumbel extreme value distribution of mean zero and
variance <span class="math inline">\(\sigma^2(\pi^2/6)\)</span>. This
model is not identified since there exists an infinite set of
combinations of values for <span class="math inline">\(\mathbf{β}^{*}\)</span>, <span class="math inline">\(\alpha^{*}\)</span>, and <span class="math inline">\(\sigma\)</span> that produce the same choice
probabilities. In order to specify an identifiable model, the modeler
must normalize equation (<span class="math inline">\(\ref{eq:utility}\)</span>). One approach is to
normalize the scale of the error term by dividing equation (<span class="math inline">\(\ref{eq:utility}\)</span>) by <span class="math inline">\(\sigma\)</span>, producing the “preference space”
utility specification:</p>
<p><span class="math display">\[\begin{equation}
    \left(\frac{u^*_{j}}{\sigma}\right) =
        \left( \frac{\mathbf{β}^{*}}{\sigma} \right)&#39;
\mathrm{\mathbf{x}}_{j} +
        \left( \frac{\alpha^{*}}{\sigma} \right) p_{j} +
        \left( \frac{\varepsilon^{*}_{j}}{\sigma} \right),
        \quad\quad
        \left( \frac{\varepsilon^{*}_{j}}{\sigma} \right) \sim
\textrm{Gumbel}\left(0, \frac{\pi^2}{6}\right)
\label{eq:utilityPreferenceScaled}
\end{equation}\]</span></p>
<p>The typical preference space parameterization of the multinomial
logit (MNL) model can then be written by rewriting equation (<span class="math inline">\(\ref{eq:utilityPreferenceScaled}\)</span>) with
<span class="math inline">\(u_j = (u^*_j / \sigma)\)</span>, <span class="math inline">\(\mathbf{β}= (\mathbf{β}^{*} / \sigma)\)</span>,
<span class="math inline">\(\alpha = (\alpha^{*} / \sigma)\)</span>, and
<span class="math inline">\(\varepsilon_{j} = (\varepsilon^{*}_{j} /
\sigma)\)</span>:</p>
<p><span class="math display">\[\begin{equation}
    u_{j} =
        \mathbf{β}&#39; \mathrm{\mathbf{x}}_{j} +
        \alpha p_{j} +
        \varepsilon_{j}
        \hspace{0.5in}
        \varepsilon_{j} \sim
\textrm{Gumbel}\left(0,\frac{\pi^2}{6}\right)
\label{eq:utilityPreference}
\end{equation}\]</span></p>
<p>The vector <span class="math inline">\(\mathbf{β}\)</span> represents
the marginal utility for changes in each non-price attribute, and <span class="math inline">\(\alpha\)</span> represents the marginal utility
obtained from price reductions. In addition, the coefficients <span class="math inline">\(\mathbf{β}\)</span> and <span class="math inline">\(\alpha\)</span> are measured in units of
<em>utility</em>, which only has relative rather than absolute
meaning.</p>
<p>The alternative normalization approach is to normalize equation
(<span class="math inline">\(\ref{eq:utility}\)</span>) by <span class="math inline">\(- \alpha^*\)</span> instead of <span class="math inline">\(\sigma\)</span>, producing the “willingness-to-pay
(WTP) space” utility specification:</p>
<p><span class="math display">\[\begin{equation}
    \left(\frac{u^*_{j}}{- \alpha^*}\right) =
        \left(\frac{\mathbf{β}^{*}}{- \alpha^{*}}\right)&#39;
\mathrm{\mathbf{x}}_{j} +
        \left(\frac{\alpha^{*}}{- \alpha^{*}}\right) p_{j} +
        \left(\frac{\varepsilon^{*}_{j}}{- \alpha^{*}}\right),
        \quad\quad
        \left(\frac{\varepsilon^{*}_{j}}{- \alpha^{*}}\right) \sim
\textrm{Gumbel} \left(0, \frac{\sigma^2}{(-
\alpha^{*})^2}\frac{\pi^2}{6} \right)
\label{eq:utilityWtpScaled}
\end{equation}\]</span></p>
<p>Since the error term in equation is scaled by <span class="math inline">\(\lambda^2 = \sigma^2/(- \alpha^{*})^2\)</span>, we
can rewrite equation (<span class="math inline">\(\ref{eq:utilityWtpScaled}\)</span>) by multiplying
both sides by <span class="math inline">\(\lambda= (- \alpha^{*} /
\sigma\)</span>) and renaming <span class="math inline">\(u_j = (\lambda
u^*_j /- \alpha^*)\)</span>, <span class="math inline">\(\mathbf{ω}=
(\mathbf{β}^{*} /- \alpha^{*}\)</span>), and <span class="math inline">\(\varepsilon_j = (\lambda \varepsilon^*_j / -
\alpha^*)\)</span>:</p>
<p><span class="math display">\[\begin{equation}
    u_{j} =
        \lambda \left(
            \mathbf{ω}&#39; \mathrm{\mathbf{x}}_{j} - p_{j}
            \right) +
        \varepsilon_{j}
        \hspace{0.5in}
        \varepsilon_{j} \sim \textrm{Gumbel}\left(0,
\frac{\pi^2}{6}\right)
\label{eq:utilityWtp}
\end{equation}\]</span></p>
<p>Here <span class="math inline">\(\mathbf{ω}\)</span> represents the
marginal WTP for changes in each non-price attribute, and <span class="math inline">\(\lambda\)</span> represents the scale of the
deterministic portion of utility relative to the standardized scale of
the random error term.</p>
<p>The utility models in equations <span class="math inline">\(\ref{eq:utilityPreference}\)</span> and <span class="math inline">\(\ref{eq:utilityWtp}\)</span> represent the
preference space and WTP space utility specifications, respectively. In
equation <span class="math inline">\(\ref{eq:utilityPreference}\)</span>, WTP is
estimated as <span class="math inline">\(\hat{\mathbf{β}} / \hat{-
\alpha}\)</span>; in equation <span class="math inline">\(\ref{eq:utilityWtp}\)</span>, WTP is simply <span class="math inline">\(\hat{\mathbf{ω}}\)</span>.</p>
</div>
<div id="references" class="section level1 unnumbered">
<h1 class="unnumbered">References</h1>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-Helveston2018" class="csl-entry">
Helveston, John Paul, Elea McDonnell Feit, and Jeremy J. Michalek. 2018.
<span>“<span class="nocase">Pooling stated and revealed preference data
in the presence of RP endogeneity</span>.”</span> <em>Transportation
Research Part B: Methodological</em> 109: 70–89.
</div>
<div id="ref-Louviere2000" class="csl-entry">
Louviere, Jordan J., David A. Hensher, and Joffre Swait. 2000. <em><span class="nocase">Stated Choice Methods: Analysis and
Applications</span></em>. Edited by J. J. et al. Louviere. Cambridge,
Massachusetts: Cambridge University Press.
</div>
<div id="ref-Train2009" class="csl-entry">
Train, Kenneth E. 2009. <em><span class="nocase">Discrete Choice Methods
with Simulation</span></em>. 2nd ed. Cambridge University Press.
</div>
<div id="ref-Train2005" class="csl-entry">
Train, Kenneth E., and Melvyn Weeks. 2005. <span>“<span class="nocase">Discrete Choice Models in Preference and
Willingness-to-Pay Space</span>.”</span> In <em>Appl. Simul. Methods
Environ. Resour. Econ.</em>, 1–16.
</div>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
